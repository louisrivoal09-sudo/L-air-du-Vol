<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>L'air du vol¬Æ/ Op√©rations militaires/ D√©couvrir nos articles</title>
  <link rel="stylesheet" href="Page 1.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>

  <link rel="icon" href="logo.png" type="image/png">
</head>
<body>

  <!-- Barre du haut -->
  <header class="topbar">
    <div class="logo-site">
      <button id="toggle-sidebar" class="sidebar-toggle">‚ò∞</button>
      <img src="logo.png" alt="Logo" class="logo-img">
      <span class="site-name">L'Air du vol¬Æ</span>
    </div>
    <button id="toggle-theme">üåô Mode Sombre</button>
  </header>

    <!-- Menu lat√©ral vertical -->
  <nav class="sidebar">
    <div class="search-box">
  <input type="text" id="articleSearch" placeholder="Rechercher des articles...">
</div>
    <ul class="menu">
      <li><a href="index.html">Accueil</a></li>
      <li class="has-submenu">
        <a href="#">Aviation civile</a>
        <ul class="sous-menu">
          <li><a href="Page 2.html">D√©couvrir nos articles</a></li>
          <li><a href="Page 5.html">Cr√©er un article</a></li>
        </ul>
      </li>
      <li class="has-submenu">
        <a href="#">Grands avions du monde</a>
        <ul class="sous-menu">
          <li><a href="Page 3.html">D√©couvrir nos articles</a></li>
          <li><a href="Page 6.html">Cr√©er un article</a></li>
        </ul>
      </li>
      <li class="has-submenu">
        <a href="#">Op√©rations militaires</a>
        <ul class="sous-menu">
          <li><a href="Page 4.html">D√©couvrir nos articles</a></li>
          <li><a href="Page 7.html">Cr√©er un article</a></li>
        </ul>
      </li>
     <li class="has-submenu">
        <a href="#">M√©dias</a>
        <ul class="sous-menu">
          <li><a href="Page 10.html">Vid√©os</a></li>
          <li><a href="Page 11.html">Podcasts</a></li>
          <li><a href="Page 12.html">Jeux</a></li>
        </ul>
      </li>
      <ul class="menu">
      <li><a href="Page 14.html">Liens</a></li>
      <li class="has-submenu">
        <a href="#">A propos</a>
        <ul class="sous-menu">
          <li><a href="Page.html">Nous contacter</a></li>
          <li><a href="#section1">Conditions g√©n√©rales d'utilisation</a></li>
        </ul>
      </li>
    </ul>
       <!-- Publicit√© sidebar -->
<div class="sidebar-ad">
  <p>PUBLICIT√â</p>
  <a href="https://www.picard.fr" target="_blank">
    <img src="https://www.picard.fr/on/demandware.static/-/Sites-picard-Library/default/dw53e8a5b3/brandcontent/1464x270px_BANNIERE_HEADER_SNACK_MOBILE.jpg" alt="Picard">
  </a>
</div>

<div class="sidebar-ad">
  <p>PUBLICIT√â</p>
  <a href="https://www.apple.com" target="_blank">
    <img src="https://www.vivelapub.fr/wp-content/uploads/miniatures/apple3.jpg" alt="Apple">
  </a>
</div>
  </nav>


  <!-- Contenu principal -->
  <main class="main-content">
    <h1>Op√©rations militaires </h1>
<!-- Bloc publicit√© -->
 <h2>Nos derniers articles</h2>
    <section id="full-article" class="full-article" style="display: none;"></section>
<section id="article-grid" class="grid-articles">
  <div class="card">
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f7/US_Navy_051105-F-5480T-005_An_F-14D_Tomcat_conducts_a_mission_over_the_Persian_Gulf-region.jpg/1200px-US_Navy_051105-F-5480T-005_An_F-14D_Tomcat_conducts_a_mission_over_the_Persian_Gulf-region.jpg" alt="Tomcat">
    <div class="card-content">
      <h3>Raid sur la Lybie</h3>
      <p>En avril 1986, apr√®s l‚Äôattentat de Berlin-Ouest attribu√© formellement √† la Libye gr√¢ce √† l‚Äôinterception de messages secrets, les √âtats-Unis d√©cident de frapper le r√©gime de Kadhafi. Malgr√© le refus...</p>
      <a href="#" class="btn read-more" data-article-id="Raid sur la Lybie">
        Lire plus
      </a>
      <div class="article">
        <small class="date">Publi√© le 15 novembre 2025</small>
        <small class="date">Cat√©gorie: Op√©rations militaires</small>
        <button class="delete-btn">Supprimer</button>
      </div>
    </div>
  </div>
  <div class="ad-card">
  <img src="https://www.picard.fr/on/demandware.static/-/Sites-picard-Library/default/dw53e8a5b3/brandcontent/1464x270px_BANNIERE_HEADER_SNACK_MOBILE.jpg" alt="Pub Picard">
  <h3>üçï D√©couvrez les nouveaux snacks Picard</h3>
  <p>Livraison gratuite d√®s 60‚Ç¨ d'achat</p>
  <a href="https://www.picard.fr" target="_blank" class="btn">D√©couvrir</a>
</div>
  </div>
  </div>
        <div class="ad-card">
  <img src="https://www.lundimatin.fr/wp-content/uploads/2023/03/a-propos-fedex.png" alt="Pub FedEx">
  <h3>üì¶ FedEx Express</h3>
  <p>Livraison internationale en 24h</p>
  <a href="https://www.fedex.com" target="_blank" class="btn">Exp√©dier</a>
</div>
      <div class="ad-card">
  <img src="https://www.vivelapub.fr/wp-content/uploads/miniatures/apple3.jpg" alt="Pub Apple">
  <h3>üì± iPhone 16 Pro</h3>
  <p>Le plus puissant des iPhone</p>
  <a href="https://www.apple.com" target="_blank" class="btn">En savoir plus</a>
</div>
  <!-- Autres articles... -->
</section>
      <!-- ========================================
       TEMPLATES D'ARTICLES (cach√©s)
       ======================================== -->
  
  <!-- Template article Condor -->
  <template id="article-Raid sur la Lybie">
    <div class="preview-resume">
     En avril 1986, apr√®s l‚Äôattentat de Berlin-Ouest attribu√© formellement √† la Libye gr√¢ce √† l‚Äôinterception de messages secrets, les √âtats-Unis d√©cident de frapper le r√©gime de Kadhafi. Malgr√© le refus de la majorit√© des pays europ√©ens de les soutenir, les Am√©ricains obtiennent l‚Äôaccord du Royaume-Uni, qui met √† disposition des bases a√©riennes essentielles.
     L‚Äôop√©ration ¬´ El Dorado Canyon ¬ª mobilise de nombreux avions militaires am√©ricains et se d√©roule dans la nuit du 14 au 15 avril 1986. Les villes de Tripoli et Benghazi sont bombard√©es de mani√®re simultan√©e. Les Am√©ricains d√©truisent plusieurs objectifs strat√©giques mais perdent un avion. Cette op√©ration repr√©sente une d√©monstration de force destin√©e √† r√©pondre au terrorisme soutenu par un √âtat.
    </div>
    
    <h2 class="preview-theme">Th√®me I ‚Äì Un attentat qui d√©clenche la riposte am√©ricaine</h2>
    
    <h3 class="preview-section-title">A. L‚Äôexplosion de Berlin-Ouest et les preuves contre la Libye</h3>
    <p class="preview-text">
     En avril 1986, une bombe explose dans une discoth√®que de Berlin-Ouest fr√©quent√©e par des soldats am√©ricains. L‚Äôattentat tue un militaire am√©ricain et une jeune femme turque. Rapidement, les services de renseignement am√©ricains interceptent et d√©chiffrent des messages venus directement de Tripoli, prouvant que le gouvernement libyen est impliqu√©. Ces √©changes incluent m√™me des f√©licitations envoy√©es depuis la Libye √† ses agents pour la r√©ussite de l‚Äôop√©ration.
    </p>
      <h3 class="preview-section-title">B. Mont√©e des tensions entre Reagan et Kadhafi et pr√©paration de la r√©ponse</h3>
    <p class="preview-text">
      L'administration am√©ricaine cherche une riposte rapide mais pr√©cise, tout en limitant les pertes humaines. Reagan hausse le ton et qualifie Kadhafi de ¬´ chien malade du Moyen-Orient ¬ª. Les chefs militaires am√©ricains pr√©parent alors une frappe a√©rienne surprise impliquant principalement la VI·µâ flotte en M√©diterran√©e. Une liste de cibles militaires est dress√©e : bases, sites de missiles, camps terroristes et infrastructures p√©troli√®res.
    </p>
    <h2 class="preview-theme">Th√®me II ‚Äì Le contexte diplomatique et l‚Äôaccord britannique d√©cisif</h2>
    <h3 class="preview-section-title">A. L‚Äôisolement am√©ricain face √† l‚ÄôEurope h√©sitante</h3>
    <p class="preview-text">
      Alors que Washington cherche le soutien de ses alli√©s, la plupart des pays europ√©ens refusent de s‚Äôengager :

la France et l‚ÄôEspagne interdisent le survol de leurs territoires ;

l‚ÄôAllemagne nie m√™me l‚Äôimplication libyenne ;

plusieurs gouvernements craignent de perdre leurs relations commerciales avec Tripoli.

Face √† ces refus, l‚Äôoption militaire devient la seule solution envisageable.
    </p>   
    <h3 class="preview-section-title">B. L‚Äôappui crucial de Margaret Thatcher et les moyens mis √† disposition</h3>
    <p class="preview-text">
     Le Royaume-Uni, inform√© des messages libyens intercept√©s par ses propres services, d√©cide de soutenir les √âtats-Unis malgr√© une opinion publique hostile. Thatcher autorise l‚Äôusage des bases britanniques, notamment pour les avions F-111, capables de frapper Tripoli avec pr√©cision gr√¢ce √† leurs syst√®mes de guidage laser. Gr√¢ce √† ce feu vert, l‚Äôop√©ration am√©ricaine prend une ampleur beaucoup plus large et plus efficace.
    </p>
       <h2 class="preview-theme">Th√®me III ‚Äì Le d√©roulement de l‚Äôop√©ration ¬´ El Dorado Canyon ¬ª</h2>
    
    <h3 class="preview-section-title">A. Une mobilisation a√©rienne massive et secr√®te</h3>
    <p class="preview-text">
    De nombreux avions-ravitailleurs, appareils de reconnaissance et chasseurs-bombardiers sont positionn√©s en Grande-Bretagne. Les pr√©paratifs sont camoufl√©s sous pr√©texte d‚Äôexercices militaires.
    Le 14 avril au soir, les ravitailleurs d√©collent, suivis par les F-111 charg√©s de bombes guid√©es. En raison du refus fran√ßais et espagnol, les avions doivent contourner l‚ÄôEurope par l‚ÄôAtlantique, rallonger leur trajet et multiplier les ravitaillements en vol.
    Pendant ce temps, deux porte-avions am√©ricains d√©j√† positionn√©s au large de la Libye (USS America et USS Coral Sea) pr√©parent leurs propres frappes sur Benghazi.
    </p>   
    <h3 class="preview-section-title">B. L‚Äôattaque coordonn√©e contre Tripoli et Benghazi</h3>
    <p class="preview-text">
 Dans la nuit du 14 au 15 avril, l‚Äôattaque commence.

Les avions de l‚ÄôUS Navy d√©truisent des radars et d√©fenses antia√©riennes √† Benghazi.

Les F-111 de l‚ÄôUS Air Force frappent Tripoli en volant tr√®s bas pour √©viter les radars.
Les objectifs sont :

les casernes de Bab al-Aziziya (o√π se trouve Kadhafi),

la base navale de Sidi Bilal,

l‚Äôa√©roport militaire de Tripoli.

Malgr√© la d√©fense libyenne, peu efficace, un F-111 am√©ricain est perdu en mer avec son √©quipage. Les bombardements causent √©galement des dommages involontaires sur des zones civiles.
    </p>  
    <h2 class="preview-conclusion-title">Conclusion</h2>
    <p class="preview-conclusion-text">
    L‚Äôop√©ration El Dorado Canyon illustre la mani√®re dont un attentat terroriste peut d√©clencher une r√©action militaire rapide et massive d‚Äôun √âtat puissant. Le raid montre aussi les tensions entre alli√©s ainsi que le r√¥le central du Royaume-Uni dans la r√©ussite de l‚Äôop√©ration. Enfin, cette attaque a√©rienne marque un tournant dans la confrontation entre les √âtats-Unis et la Libye, tout en soulignant les limites d‚Äôune riposte militaire men√©e dans un contexte diplomatique tr√®s divis√©.
    </p>
     <!-- ========================================
       GALERIE D'IMAGES
       ======================================== -->
  <div class="article-gallery">
    <h3>üì∏ Galerie photos</h3>
    
    <div class="gallery-grid">
      <div class="gallery-item" data-caption="Un bombardier strat√©gique F-111F de la 48th Tactical Fighter Wing d√©colle pour prendre part au bombardement de la Libye.">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/USF-111_Libya1986.JPG/500px-USF-111_Libya1986.JPG" alt="Un bombardier strat√©gique F-111F de la 48th Tactical Fighter Wing d√©colle pour prendre part au bombardement de la Libye.">
        <div class="gallery-caption">Un bombardier strat√©gique F-111F de la 48th Tactical Fighter Wing d√©colle pour prendre part au bombardement de la Libye.</div>
      </div>
      
      <div class="gallery-item" data-caption="Le pr√©sident des √âtats-Unis Ronald Reagan consulte des membres du Congr√®s des √âtats-Unis la veille de l'attaque.">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0f/Meeting_with_Bipartisan_Congressman_on_U.S._Air_Strike_Against_Libya.jpg/500px-Meeting_with_Bipartisan_Congressman_on_U.S._Air_Strike_Against_Libya.jpg" alt="Le pr√©sident des √âtats-Unis Ronald Reagan consulte des membres du Congr√®s des √âtats-Unis la veille de l'attaque.">
        <div class="gallery-caption">Le pr√©sident des √âtats-Unis Ronald Reagan consulte des membres du Congr√®s des √âtats-Unis la veille de l'attaque.</div>
      </div>
      
      <div class="gallery-item" data-caption="Le personnel au sol de la RAF Lakenheath pr√©pare un F-111F du 48th Tactical Fighter Wing pour une attaque a√©rienne contre la Libye.">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9c/F-111F_GBU-10_bound_for_Libya.jpg/500px-F-111F_GBU-10_bound_for_Libya.jpg" alt="Le personnel au sol de la RAF Lakenheath pr√©pare un F-111F du 48th Tactical Fighter Wing pour une attaque a√©rienne contre la Libye.">
        <div class="gallery-caption">Le personnel au sol de la RAF Lakenheath pr√©pare un F-111F du 48th Tactical Fighter Wing pour une attaque a√©rienne contre la Libye.</div>
      </div>
      
      <div class="gallery-item" data-caption="Des avions de combat se pr√©parant √† d√©coller de USS America (CV-66) au cours de l'op√©ration.">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/Aircraft_on_USS_America_%28CV-66%29_during_attacks_on_Libya_1986.jpeg/500px-Aircraft_on_USS_America_%28CV-66%29_during_attacks_on_Libya_1986.jpeg" alt="Des avions de combat se pr√©parant √† d√©coller de USS America (CV-66) au cours de l'op√©ration.">
        <div class="gallery-caption">Des avions de combat se pr√©parant √† d√©coller de USS America (CV-66) au cours de l'op√©ration.</div>
      </div>
 </div>
  </div>
  </template>
  </main>
  <!-- Script pour le th√®me et le menu -->
  <script>
// ============================================
// GESTION DES ARTICLES AVEC LIGHTBOX ET T√âL√âCHARGEMENT
// ============================================

// ===== NOTATION PAR √âTOILES =====
document.querySelectorAll('.rating').forEach(ratingDiv => {
  let selectedValue = 0;
  const stars = ratingDiv.querySelectorAll('span');

  stars.forEach(star => {
    star.addEventListener('mouseenter', () => {
      const val = parseInt(star.getAttribute('data-value'));
      stars.forEach(s => {
        if (parseInt(s.getAttribute('data-value')) <= val) {
          s.style.color = '#f5b301';
          s.style.transform = 'scale(1.2)';
        } else {
          s.style.color = '#ccc';
          s.style.transform = 'scale(1)';
        }
      });
    });

    star.addEventListener('mouseleave', () => {
      stars.forEach(s => {
        if (parseInt(s.getAttribute('data-value')) <= selectedValue) {
          s.style.color = '#f5b301';
          s.style.transform = 'scale(1)';
        } else {
          s.style.color = '#ccc';
          s.style.transform = 'scale(1)';
        }
      });
    });

    star.addEventListener('click', () => {
      selectedValue = parseInt(star.getAttribute('data-value'));
      stars.forEach(s => {
        if (parseInt(s.getAttribute('data-value')) <= selectedValue) {
          s.classList.add('selected');
          s.style.color = '#f5b301';
          s.style.transform = 'scale(1)';
        } else {
          s.classList.remove('selected');
          s.style.color = '#ccc';
          s.style.transform = 'scale(1)';
        }
      });
      console.log('Note s√©lectionn√©e:', selectedValue);
    });
  });

  ratingDiv.addEventListener('mouseleave', () => {
    stars.forEach(s => {
      if (parseInt(s.getAttribute('data-value')) <= selectedValue) {
        s.style.color = '#f5b301';
        s.style.transform = 'scale(1)';
      } else {
        s.style.color = '#ccc';
        s.style.transform = 'scale(1)';
      }
    });
  });
});

// ===== TH√àME ET SIDEBAR =====
const toggleButton = document.getElementById('toggle-theme');
const sidebarToggleBtn = document.getElementById('toggle-sidebar');
const sidebar = document.querySelector('.sidebar');
const body = document.body;

if (localStorage.getItem('theme') === 'dark') {
  body.classList.add('dark');
  toggleButton.textContent = '‚òÄÔ∏è Mode Clair';
}

toggleButton.addEventListener('click', () => {
  body.classList.toggle('dark');
  const isDark = body.classList.contains('dark');
  toggleButton.textContent = isDark ? '‚òÄÔ∏è Mode Clair' : 'üåô Mode Sombre';
  localStorage.setItem('theme', isDark ? 'dark' : 'light');
});

sidebarToggleBtn.addEventListener('click', () => {
  sidebar.classList.toggle('collapsed');
  body.classList.toggle('menu-collapsed');
});

// ===== GESTION DES ARTICLES =====
const readMoreButtons = document.querySelectorAll('.read-more');
const fullArticle = document.getElementById('full-article');
const articleGrid = document.querySelector('.grid-articles') || document.getElementById('article-grid');

readMoreButtons.forEach(btn => {
  btn.addEventListener('click', function (e) {
    e.preventDefault();

    const articleId = this.dataset.articleId;
    const template = document.getElementById(`article-${articleId}`);
    const title = this.closest('.card').querySelector('h3').textContent;
    const date = this.closest('.card').querySelector('.date').textContent;

    if (!template) {
      console.error(`Template "article-${articleId}" introuvable !`);
      alert('Article non disponible');
      return;
    }

    // Afficher l'article complet
    fullArticle.innerHTML = `
      <!-- Barre de progression -->
      <div class="reading-progress">
        <div class="reading-progress-bar" id="progress-bar"></div>
      </div>
      
      <!-- Table des mati√®res -->
      <div class="article-toc" id="article-toc">
        <h4>üìë Sommaire</h4>
        <ul id="toc-list"></ul>
      </div>
      
      <div class="card" style="max-width: 1200px; margin: 0 auto;">
        <div class="card-content" style="padding: 3rem;">
          <h1>${title}</h1>
          <p class="preview-date" style="color: var(--text-gray); margin-bottom: 2rem; font-size: 1rem;">
            ${date}
          </p>
          
          <!-- Boutons d'action -->
          <div class="article-actions">
            <button class="download-article-btn" id="download-pdf">
              T√©l√©charger en PDF
            </button>
            <button class="share-article-btn" id="share-article">
              Partager l'article
            </button>
          </div>
          
          <div id="article-content">
            ${template.innerHTML}
          </div>
          
          <button id="close-article" class="btn" style="margin-top: 3rem; background: linear-gradient(135deg, #EF4444 0%, #DC2626 100%);">
            ‚Üê Retour aux articles
          </button>
        </div>
      </div>
    `;

    fullArticle.style.display = 'block';
    if (articleGrid) articleGrid.style.display = 'none';
    window.scrollTo({ top: 0, behavior: 'smooth' });

    // Initialiser les fonctionnalit√©s
    initReadingProgress();
    initTableOfContents();
    initLightbox();
    initDownloadPDF(title, articleId);
    initShareArticle(title);

    // Bouton retour
    document.getElementById('close-article').addEventListener('click', () => {
      fullArticle.style.display = 'none';
      fullArticle.innerHTML = '';
      if (articleGrid) articleGrid.style.display = 'grid';
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  });
});

// ===== BARRE DE PROGRESSION =====
function initReadingProgress() {
  const progressBar = document.getElementById('progress-bar');
  const articleContent = document.getElementById('article-content');
  
  if (!progressBar || !articleContent) return;

  window.addEventListener('scroll', () => {
    const articleTop = articleContent.offsetTop;
    const articleHeight = articleContent.offsetHeight;
    const scrollTop = window.pageYOffset;
    const windowHeight = window.innerHeight;
    
    const scrolled = scrollTop - articleTop + windowHeight;
    const total = articleHeight;
    const percentage = Math.min(Math.max((scrolled / total) * 100, 0), 100);
    
    progressBar.style.width = percentage + '%';
  });
}

// ===== TABLE DES MATI√àRES =====
function initTableOfContents() {
  const toc = document.getElementById('article-toc');
  const tocList = document.getElementById('toc-list');
  const articleContent = document.getElementById('article-content');
  
  if (!toc || !tocList || !articleContent) return;

  // R√©cup√©rer tous les titres
  const headings = articleContent.querySelectorAll('.preview-theme, .preview-section-title');
  
  if (headings.length === 0) return;

  // Afficher le sommaire
  toc.classList.add('show');

  // G√©n√©rer la table des mati√®res
  headings.forEach((heading, index) => {
    const id = `heading-${index}`;
    heading.id = id;
    
    const li = document.createElement('li');
    const a = document.createElement('a');
    a.href = `#${id}`;
    a.textContent = heading.textContent;
    a.addEventListener('click', (e) => {
      e.preventDefault();
      heading.scrollIntoView({ behavior: 'smooth', block: 'start' });
    });
    
    li.appendChild(a);
    tocList.appendChild(li);
  });

  // Surligner la section active
  window.addEventListener('scroll', () => {
    let current = '';
    headings.forEach(heading => {
      const sectionTop = heading.offsetTop;
      if (window.pageYOffset >= sectionTop - 100) {
        current = heading.id;
      }
    });

    tocList.querySelectorAll('a').forEach(a => {
      a.classList.remove('active');
      if (a.getAttribute('href') === `#${current}`) {
        a.classList.add('active');
      }
    });
  });
}

// ===== LIGHTBOX AM√âLIOR√âE =====
function initLightbox() {
  const galleryItems = document.querySelectorAll('.gallery-item');
  
  if (galleryItems.length === 0) return;

  let currentIndex = 0;
  const images = Array.from(galleryItems).map(item => ({
    src: item.querySelector('img').src,
    caption: item.dataset.caption || item.querySelector('.gallery-caption')?.textContent || ''
  }));

  // Cr√©er la lightbox
  const lightbox = document.createElement('div');
  lightbox.className = 'lightbox';
  lightbox.id = 'lightbox';
  lightbox.innerHTML = `
    <button class="lightbox-nav lightbox-prev" id="lightbox-prev">‚Äπ</button>
    <button class="lightbox-nav lightbox-next" id="lightbox-next">‚Ä∫</button>
    
    <div class="lightbox-toolbar">
      <button class="lightbox-btn lightbox-download" id="lightbox-download" title="T√©l√©charger">
        ‚¨á
      </button>
      <button class="lightbox-btn lightbox-close" id="lightbox-close" title="Fermer">
        √ó
      </button>
    </div>
    
    <div class="lightbox-content">
      <img id="lightbox-img" src="" alt="">
    </div>
    
    <div class="lightbox-caption">
      <div class="lightbox-counter" id="lightbox-counter"></div>
      <div id="lightbox-caption-text"></div>
    </div>
  `;
  
  document.body.appendChild(lightbox);

  // Elements
  const lightboxImg = document.getElementById('lightbox-img');
  const lightboxClose = document.getElementById('lightbox-close');
  const lightboxPrev = document.getElementById('lightbox-prev');
  const lightboxNext = document.getElementById('lightbox-next');
  const lightboxDownload = document.getElementById('lightbox-download');
  const lightboxCounter = document.getElementById('lightbox-counter');
  const lightboxCaptionText = document.getElementById('lightbox-caption-text');

  // Fonction pour afficher une image
  function showImage(index) {
    currentIndex = index;
    const image = images[index];
    
    lightboxImg.src = image.src;
    lightboxCaptionText.textContent = image.caption;
    lightboxCounter.textContent = `${index + 1} / ${images.length}`;
    
    lightboxPrev.disabled = index === 0;
    lightboxNext.disabled = index === images.length - 1;
    
    lightbox.classList.add('show');
    document.body.style.overflow = 'hidden';
  }

  // Fermer la lightbox
  function closeLightbox() {
    lightbox.classList.remove('show');
    document.body.style.overflow = '';
  }

  // Event listeners sur les vignettes
  galleryItems.forEach((item, index) => {
    item.addEventListener('click', () => showImage(index));
  });

  // Navigation
  lightboxPrev.addEventListener('click', () => {
    if (currentIndex > 0) showImage(currentIndex - 1);
  });

  lightboxNext.addEventListener('click', () => {
    if (currentIndex < images.length - 1) showImage(currentIndex + 1);
  });

  // T√©l√©charger
  lightboxDownload.addEventListener('click', () => {
    const link = document.createElement('a');
    link.href = lightboxImg.src;
    link.download = `image-${currentIndex + 1}.jpg`;
    link.click();
  });

  // Fermer
  lightboxClose.addEventListener('click', closeLightbox);
  
  lightbox.addEventListener('click', (e) => {
    if (e.target === lightbox) closeLightbox();
  });

  // Clavier
  document.addEventListener('keydown', (e) => {
    if (!lightbox.classList.contains('show')) return;
    
    if (e.key === 'Escape') closeLightbox();
    if (e.key === 'ArrowLeft' && currentIndex > 0) showImage(currentIndex - 1);
    if (e.key === 'ArrowRight' && currentIndex < images.length - 1) showImage(currentIndex + 1);
  });
}

// ===== T√âL√âCHARGEMENT PDF =====
function initDownloadPDF(title, articleId) {
  const downloadBtn = document.getElementById('download-pdf');
  
  if (!downloadBtn) return;

  downloadBtn.addEventListener('click', () => {
    const articleContent = document.getElementById('article-content');
    
    if (!articleContent) {
      alert('Impossible de t√©l√©charger l\'article');
      return;
    }

    // Cr√©er un contenu propre pour le PDF
    const content = `
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>${title}</title>
  <style>
    body {
      font-family: Georgia, serif;
      line-height: 1.8;
      max-width: 800px;
      margin: 0 auto;
      padding: 40px;
      color: #333;
    }
    h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      color: #0A2463;
    }
    h2 {
      font-size: 1.75rem;
      margin-top: 2rem;
      color: #0A2463;
      border-bottom: 2px solid #eee;
      padding-bottom: 0.5rem;
    }
    h3 {
      font-size: 1.375rem;
      margin-top: 1.5rem;
      color: #0A2463;
    }
    p {
      margin-bottom: 1rem;
      text-align: justify;
    }
    .preview-resume {
      background: #FEF3C7;
      padding: 1.5rem;
      border-left: 4px solid #FB8500;
      margin: 2rem 0;
      font-weight: 600;
    }
    .preview-date {
      color: #666;
      margin-bottom: 2rem;
    }
    img {
      max-width: 100%;
      height: auto;
      margin: 1rem 0;
    }
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      margin: 2rem 0;
    }
  </style>
</head>
<body>
  <h1>${title}</h1>
  ${articleContent.innerHTML}
  <hr style="margin-top: 3rem; border: none; border-top: 2px solid #eee;">
  <p style="text-align: center; color: #999; font-size: 0.9rem;">
    Document g√©n√©r√© depuis L'Air du vol¬Æ - ${new Date().toLocaleDateString('fr-FR')}
  </p>
</body>
</html>
    `;

    // Cr√©er un Blob et t√©l√©charger
    const blob = new Blob([content], { type: 'text/html' });
    const url = URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = `${title.replace(/[^a-z0-9]/gi, '_')}.html`;
    link.click();
    URL.revokeObjectURL(url);

    // Notification
    alert('‚úÖ Article t√©l√©charg√© ! Vous pouvez l\'ouvrir dans votre navigateur ou le convertir en PDF.');
  });
}

// ===== PARTAGE D'ARTICLE =====
function initShareArticle(title) {
  const shareBtn = document.getElementById('share-article');
  
  if (!shareBtn) return;

  shareBtn.addEventListener('click', async () => {
    const url = window.location.href;
    const text = `D√©couvrez l'article "${title}" sur L'Air du vol¬Æ`;

    if (navigator.share) {
      try {
        await navigator.share({ title, text, url });
      } catch (err) {
        console.log('Partage annul√©');
      }
    } else {
      // Fallback: copier le lien
      navigator.clipboard.writeText(url).then(() => {
        alert('üîó Lien copi√© dans le presse-papiers !');
      });
    }
  });
}

// ===== RECHERCHE D'ARTICLES =====
const searchInput = document.getElementById('articleSearch');
const articles = document.querySelectorAll('.grid-articles .card, #article-grid .card');

if (searchInput && articles.length > 0) {
  searchInput.addEventListener('input', () => {
    const query = searchInput.value.toLowerCase();

    articles.forEach(card => {
      const title = card.querySelector('h3')?.textContent.toLowerCase() || '';
      const description = card.querySelector('p')?.textContent.toLowerCase() || '';

      if (title.includes(query) || description.includes(query)) {
        card.style.display = 'block';
      } else {
        card.style.display = 'none';
      }
    });
  });
}
</script>
<script>
// ============================================
// SYST√àME DE GESTION DES COOKIES ET PUBLICIT√âS
// ============================================

(function() {
  'use strict';
  
  // Configuration
  const CONFIG = {
    STORAGE_KEYS: {
      ADS_ACCEPTED: 'adsAccepted',
      USER_DATA: 'userData',
      LAST_INTERSTITIAL: 'lastInterstitial'
    },
    INTERSTITIAL_DELAY: 30000, // 30 secondes entre chaque pub interstitielle
    AD_CLOSE_DELAY: 5 // 5 secondes avant de pouvoir fermer
  };
  
  // Elements DOM
  const elements = {
    overlay: document.getElementById('cookie-overlay'),
    accountModal: document.getElementById('account-modal'),
    loginModal: document.getElementById('login-modal'),
    acceptBtn: document.getElementById('accept-ads-btn'),
    refuseBtn: document.getElementById('refuse-ads-btn'),
    accountForm: document.getElementById('account-form'),
    loginForm: document.getElementById('login-form'),
    showLoginBtn: document.getElementById('show-login-btn'),
    showSignupBtn: document.getElementById('show-signup-btn'),
    closeAccountModal: document.getElementById('close-account-modal'),
    closeLoginModal: document.getElementById('close-login-modal')
  };
  
  // Base de donn√©es utilisateurs (localStorage)
  class UserDatabase {
    static getUsers() {
      return JSON.parse(localStorage.getItem('users') || '[]');
    }
    
    static saveUser(user) {
      const users = this.getUsers();
      users.push(user);
      localStorage.setItem('users', JSON.stringify(users));
    }
    
    static findUser(email, password) {
      const users = this.getUsers();
      return users.find(u => u.email === email && u.password === password);
    }
    
    static userExists(email) {
      const users = this.getUsers();
      return users.some(u => u.email === email);
    }
  }
  
  // Gestion des publicit√©s
  class AdManager {
    static hideAllAds() {
      // Masquer toutes les pubs
      document.querySelectorAll('.topbar-ads, .ad-card, .sidebar-ad, .pub-container').forEach(ad => {
        ad.style.display = 'none';
      });
      
      // Ajouter une classe au body pour indiquer qu'il n'y a pas de pubs
      document.body.classList.add('no-ads');
    }
    
    static showAllAds() {
      document.querySelectorAll('.topbar-ads, .ad-card, .sidebar-ad, .pub-container').forEach(ad => {
        ad.style.display = '';
      });
      
      document.body.classList.remove('no-ads');
    }
    
    static createInterstitialAd() {
      const ads = [
        {
          img: 'https://www.picard.fr/on/demandware.static/-/Sites-picard-Library/default/dw53e8a5b3/brandcontent/1464x270px_BANNIERE_HEADER_SNACK_MOBILE.jpg',
          title: 'Picard - Les snacks surgel√©s',
          link: 'https://www.picard.fr'
        },
        {
          img: 'https://www.vivelapub.fr/wp-content/uploads/miniatures/apple3.jpg',
          title: 'Apple - iPhone 16 Pro',
          link: 'https://www.apple.com'
        },
        {
          img: 'https://www.lundimatin.fr/wp-content/uploads/2023/03/a-propos-fedex.png',
          title: 'FedEx - Livraison express',
          link: 'https://www.fedex.com'
        }
      ];
      
      const ad = ads[Math.floor(Math.random() * ads.length)];
      
      const interstitial = document.createElement('div');
      interstitial.className = 'interstitial-ad';
      interstitial.innerHTML = `
        <div class="interstitial-content">
          <div class="ad-timer" id="ad-timer">Fermeture dans <span id="timer-count">${CONFIG.AD_CLOSE_DELAY}</span>s</div>
          <button class="ad-close-btn" id="ad-close" disabled>&times;</button>
          <a href="${ad.link}" target="_blank">
            <img src="${ad.img}" alt="${ad.title}">
            <h2>${ad.title}</h2>
          </a>
        </div>
      `;
      
      document.body.appendChild(interstitial);
      
      // Timer pour activer le bouton de fermeture
      let timeLeft = CONFIG.AD_CLOSE_DELAY;
      const timerElement = interstitial.querySelector('#timer-count');
      const closeBtn = interstitial.querySelector('#ad-close');
      
      const countdown = setInterval(() => {
        timeLeft--;
        timerElement.textContent = timeLeft;
        
        if (timeLeft <= 0) {
          clearInterval(countdown);
          closeBtn.disabled = false;
          closeBtn.classList.add('active');
          interstitial.querySelector('.ad-timer').textContent = 'Vous pouvez fermer la publicit√©';
        }
      }, 1000);
      
      closeBtn.addEventListener('click', () => {
        if (!closeBtn.disabled) {
          interstitial.remove();
          clearInterval(countdown);
        }
      });
      
      interstitial.classList.add('show');
      
      // Enregistrer l'heure de la derni√®re pub
      localStorage.setItem(CONFIG.STORAGE_KEYS.LAST_INTERSTITIAL, Date.now());
    }
    
    static shouldShowInterstitial() {
      const lastInterstitial = localStorage.getItem(CONFIG.STORAGE_KEYS.LAST_INTERSTITIAL);
      if (!lastInterstitial) return true;
      
      const timeSince = Date.now() - parseInt(lastInterstitial);
      return timeSince >= CONFIG.INTERSTITIAL_DELAY;
    }
    
    static startInterstitialLoop() {
      // Montrer une pub apr√®s 10 secondes, puis toutes les 30 secondes
      setTimeout(() => {
        if (this.shouldShowInterstitial()) {
          this.createInterstitialAd();
        }
        
        setInterval(() => {
          if (this.shouldShowInterstitial()) {
            this.createInterstitialAd();
          }
        }, CONFIG.INTERSTITIAL_DELAY);
      }, 10000);
    }
  }
  
  // Initialisation
  function init() {
    // V√©rifier si l'utilisateur a d√©j√† fait un choix
    const adsAccepted = localStorage.getItem(CONFIG.STORAGE_KEYS.ADS_ACCEPTED);
    const userData = localStorage.getItem(CONFIG.STORAGE_KEYS.USER_DATA);
    
    if (adsAccepted === 'true') {
      // L'utilisateur a accept√© les pubs
      elements.overlay.style.display = 'none';
      AdManager.showAllAds();
      AdManager.startInterstitialLoop();
    } else if (userData) {
      // L'utilisateur a un compte et a refus√© les pubs
      elements.overlay.style.display = 'none';
      AdManager.hideAllAds();
    } else {
      // Premi√®re visite - bloquer l'acc√®s
      elements.overlay.style.display = 'flex';
    }
  }
  
  // Accepter les publicit√©s
  elements.acceptBtn.addEventListener('click', () => {
    localStorage.setItem(CONFIG.STORAGE_KEYS.ADS_ACCEPTED, 'true');
    elements.overlay.style.display = 'none';
    AdManager.showAllAds();
    AdManager.startInterstitialLoop();
  });
  
  // Refuser les publicit√©s - demander cr√©ation de compte
  elements.refuseBtn.addEventListener('click', () => {
    elements.overlay.style.display = 'none';
    elements.accountModal.style.display = 'flex';
  });
  
  // Cr√©ation de compte
  elements.accountForm.addEventListener('submit', (e) => {
    e.preventDefault();
    
    const username = document.getElementById('account-username').value;
    const email = document.getElementById('account-email').value;
    const password = document.getElementById('account-password').value;
    const message = document.getElementById('account-message');
    
    // V√©rifier si l'email existe d√©j√†
    if (UserDatabase.userExists(email)) {
      message.textContent = 'Cet email est d√©j√† utilis√©';
      message.className = 'message error';
      return;
    }
    
    // Cr√©er le compte
    const user = {
      username,
      email,
      password,
      createdAt: new Date().toISOString()
    };
    
    UserDatabase.saveUser(user);
    localStorage.setItem(CONFIG.STORAGE_KEYS.USER_DATA, JSON.stringify(user));
    localStorage.setItem(CONFIG.STORAGE_KEYS.ADS_ACCEPTED, 'false');
    
    message.textContent = '‚úÖ Compte cr√©√© avec succ√®s ! Redirection...';
    message.className = 'message success';
    
    setTimeout(() => {
      elements.accountModal.style.display = 'none';
      AdManager.hideAllAds();
      location.reload();
    }, 2000);
  });
  
  // Connexion
  elements.loginForm.addEventListener('submit', (e) => {
    e.preventDefault();
    
    const email = document.getElementById('login-email').value;
    const password = document.getElementById('login-password').value;
    const message = document.getElementById('login-message');
    
    const user = UserDatabase.findUser(email, password);
    
    if (user) {
      localStorage.setItem(CONFIG.STORAGE_KEYS.USER_DATA, JSON.stringify(user));
      localStorage.setItem(CONFIG.STORAGE_KEYS.ADS_ACCEPTED, 'false');
      
      message.textContent = '‚úÖ Connexion r√©ussie ! Redirection...';
      message.className = 'message success';
      
      setTimeout(() => {
        elements.loginModal.style.display = 'none';
        AdManager.hideAllAds();
        location.reload();
      }, 2000);
    } else {
      message.textContent = '‚ùå Email ou mot de passe incorrect';
      message.className = 'message error';
    }
  });
  
  // Basculer entre login et signup
  elements.showLoginBtn.addEventListener('click', () => {
    elements.accountModal.style.display = 'none';
    elements.loginModal.style.display = 'flex';
  });
  
  elements.showSignupBtn.addEventListener('click', () => {
    elements.loginModal.style.display = 'none';
    elements.accountModal.style.display = 'flex';
  });
  
  // Fermer les modales
  elements.closeAccountModal.addEventListener('click', () => {
    elements.accountModal.style.display = 'none';
    elements.overlay.style.display = 'flex';
  });
  
  elements.closeLoginModal.addEventListener('click', () => {
    elements.loginModal.style.display = 'none';
    elements.overlay.style.display = 'flex';
  });
  
  // D√©marrer
  init();
})();
</script>
  </body>
</html>
