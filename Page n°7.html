<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>L'air du volÂ®/ Aviation civile/ CrÃ©er un article</title>
  <link rel="stylesheet" href="Page 1.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="logo.png" type="image/png">
</head>
<body>

  <!-- Barre du haut -->
  <header class="topbar">
    <div class="logo-site">
      <button id="toggle-sidebar" class="sidebar-toggle">â˜°</button>
      <img src="logo.png" alt="Logo" class="logo-img">
      <span class="site-name">L'Air du volÂ®</span>
    </div>
    <button id="toggle-theme">ğŸŒ™ Mode Sombre</button>
  </header>

  <!-- Menu latÃ©ral vertical -->
  <nav class="sidebar">
    <ul class="menu">
      <li><a href="index.html">Accueil ğŸ </a></li>
      <li class="has-submenu">
        <a href="#">Articles ğŸ“°</a>
        <ul class="sous-menu">
          <li><a href="Page nÂ°1.html">DÃ©couvrir les articles ğŸ“š</a></li>
          <li><a href="Page nÂ°2.html">CrÃ©er un article (authentification requise) ğŸ”</a></li>
        </ul>
     <li class="has-submenu">
        <a href="#">MÃ©dias ğŸ’»</a>
        <ul class="sous-menu">
          <li><a href="Page nÂ°3.html">VidÃ©os ğŸ¥</a></li>
          <li><a href="Page nÂ°4.html">Podcasts ğŸ™ï¸</a></li>
          <li><a href="Page nÂ°5.html">Jeux ğŸ®</a></li>
        </ul>
      </li>
      <ul class="menu">
      <li><a href="Page nÂ°6.html">Liens ğŸ”—</a></li>
      <li class="has-submenu">
        <a href="#">A propos â•</a>
        <ul class="sous-menu">
          <li><a href="Page 8.html">Avis â­</a></li>
          <li><a href="#section1">Conditions gÃ©nÃ©rales d'utilisation âš ï¸</a></li>
        </ul>
      </li>
    </ul>
    <!-- PublicitÃ© sidebar   -->
<div class="sidebar-ad">
  <p>PUBLICITÃ‰</p>
  <a href="https://www.picard.fr" target="_blank">
    <img src="https://www.picard.fr/on/demandware.static/-/Sites-picard-Library/default/dw53e8a5b3/brandcontent/1464x270px_BANNIERE_HEADER_SNACK_MOBILE.jpg" alt="Picard">
  </a>
</div>

<div class="sidebar-ad">
  <p>PUBLICITÃ‰</p>
  <a href="https://www.apple.com" target="_blank">
    <img src="https://www.vivelapub.fr/wp-content/uploads/miniatures/apple3.jpg" alt="Apple">
  </a>
</div>
  </nav>



  <main class="main-content"> 
<div class="container">
    <!-- Header -->
    <div class="reviews-header">
      <h1>â­ Vos Avis</h1>
      <p>Partagez votre expÃ©rience et aidez-nous Ã  amÃ©liorer L'Air du Vol</p>
    </div>

    <!-- Stats globales -->
    <div class="reviews-stats">
      <div class="stat-card">
        <div class="stat-icon">â­</div>
        <div class="stat-number">4.8</div>
        <div class="stat-label">Note moyenne</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">ğŸ“</div>
        <div class="stat-number">1,247</div>
        <div class="stat-label">Avis publiÃ©s</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">ğŸ‘¥</div>
        <div class="stat-number">95%</div>
        <div class="stat-label">Satisfaction</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">ğŸ”¥</div>
        <div class="stat-number">4.9</div>
        <div class="stat-label">QualitÃ© du contenu</div>
      </div>
    </div>

    <!-- Distribution des notes -->
    <div class="rating-distribution">
      <h2>ğŸ“Š Distribution des notes</h2>
      <div class="rating-bar-container">
        <div class="rating-label">
          <span>5</span>
          <span style="color: #F59E0B;">â˜…â˜…â˜…â˜…â˜…</span>
        </div>
        <div class="rating-bar-bg">
          <div class="rating-bar-fill" style="width: 78%;">78%</div>
        </div>
        <div class="rating-count">972 avis</div>
      </div>
      <div class="rating-bar-container">
        <div class="rating-label">
          <span>4</span>
          <span style="color: #F59E0B;">â˜…â˜…â˜…â˜…â˜†</span>
        </div>
        <div class="rating-bar-bg">
          <div class="rating-bar-fill" style="width: 15%;">15%</div>
        </div>
        <div class="rating-count">187 avis</div>
      </div>
      <div class="rating-bar-container">
        <div class="rating-label">
          <span>3</span>
          <span style="color: #F59E0B;">â˜…â˜…â˜…â˜†â˜†</span>
        </div>
        <div class="rating-bar-bg">
          <div class="rating-bar-fill" style="width: 5%;">5%</div>
        </div>
        <div class="rating-count">62 avis</div>
      </div>
      <div class="rating-bar-container">
        <div class="rating-label">
          <span>2</span>
          <span style="color: #F59E0B;">â˜…â˜…â˜†â˜†â˜†</span>
        </div>
        <div class="rating-bar-bg">
          <div class="rating-bar-fill" style="width: 1%;">1%</div>
        </div>
        <div class="rating-count">12 avis</div>
      </div>
      <div class="rating-bar-container">
        <div class="rating-label">
          <span>1</span>
          <span style="color: #F59E0B;">â˜…â˜†â˜†â˜†â˜†</span>
        </div>
        <div class="rating-bar-bg">
          <div class="rating-bar-fill" style="width: 1%;">1%</div>
        </div>
        <div class="rating-count">14 avis</div>
      </div>
    </div>

    <!-- Formulaire d'avis -->
    <div class="review-form-section">
      <h2>âœï¸ Laissez votre avis</h2>
      
      <form id="reviewForm">
        <div class="form-group">
          <label>Votre note</label>
          <div class="star-rating">
            <span class="star" data-rating="1">â˜…</span>
            <span class="star" data-rating="2">â˜…</span>
            <span class="star" data-rating="3">â˜…</span>
            <span class="star" data-rating="4">â˜…</span>
            <span class="star" data-rating="5">â˜…</span>
          </div>
          <input type="hidden" id="rating" required>
        </div>

        <div class="form-group">
          <label for="name">Votre nom</label>
          <input type="text" id="name" placeholder="Jean Dupont" required>
        </div>

        <div class="form-group">
          <label for="email">Votre email (non publiÃ©)</label>
          <input type="email" id="email" placeholder="jean.dupont@exemple.fr" required>
        </div>

        <div class="form-group">
          <label for="comment">Votre commentaire</label>
          <textarea id="comment" placeholder="Partagez votre expÃ©rience sur L'Air du Vol..." required></textarea>
        </div>

        <button type="submit" class="submit-btn">Publier mon avis</button>
      </form>

      <div class="success-message" id="successMessage">
        âœ“ Merci ! Votre avis a Ã©tÃ© publiÃ© avec succÃ¨s.
      </div>
    </div>

    <!-- Liste des avis rÃ©cents -->
    <div class="reviews-list">
      <h2>ğŸ’¬ Avis rÃ©cents</h2>

      <div class="review-card" style="animation-delay: 0.1s;">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">MP</div>
            <div class="reviewer-details">
              <h4>Marc Perrin</h4>
              <div class="review-date">Il y a 2 jours</div>
            </div>
          </div>
          <div class="review-stars">â˜…â˜…â˜…â˜…â˜…</div>
        </div>
        <div class="review-content">
          "Excellent site pour tous les passionnÃ©s d'aviation ! Les articles sont trÃ¨s bien documentÃ©s et la qualitÃ© du contenu est exceptionnelle. J'apprÃ©cie particuliÃ¨rement la section sur l'histoire de l'aviation militaire."
        </div>
      </div>

      <div class="review-card" style="animation-delay: 0.2s;">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">SL</div>
            <div class="reviewer-details">
              <h4>Sophie Laurent</h4>
              <div class="review-date">Il y a 5 jours</div>
            </div>
          </div>
          <div class="review-stars">â˜…â˜…â˜…â˜…â˜…</div>
        </div>
        <div class="review-content">
          "Une mine d'informations pour les amateurs d'aÃ©ronautique. Le site est moderne, facile Ã  naviguer et les podcasts sont de grande qualitÃ©. Bravo pour ce travail !"
        </div>
      </div>

      <div class="review-card" style="animation-delay: 0.3s;">
        <div class="review-header">
          <div class="reviewer-info">
            <div class="reviewer-avatar">TD</div>
            <div class="reviewer-details">
              <h4>Thomas Dubois</h4>
              <div class="review-date">Il y a 1 semaine</div>
            </div>
          </div>
          <div class="review-stars">â˜…â˜…â˜…â˜…â˜†</div>
        </div>
        <div class="review-content">
          "TrÃ¨s bon contenu et interface agrÃ©able. J'aimerais voir plus d'articles sur l'aviation moderne et les nouvelles technologies. Le mode sombre est parfait !"
        </div>
      </div>
    </div>
  </div>

  <script>
    // SystÃ¨me de notation par Ã©toiles
    const stars = document.querySelectorAll('.star');
    const ratingInput = document.getElementById('rating');
    let selectedRating = 0;

    stars.forEach(star => {
      star.addEventListener('click', () => {
        selectedRating = parseInt(star.dataset.rating);
        ratingInput.value = selectedRating;
        updateStars();
      });

      star.addEventListener('mouseenter', () => {
        const hoverRating = parseInt(star.dataset.rating);
        stars.forEach((s, index) => {
          if (index < hoverRating) {
            s.classList.add('active');
          } else {
            s.classList.remove('active');
          }
        });
      });
    });

    document.querySelector('.star-rating').addEventListener('mouseleave', () => {
      updateStars();
    });

    function updateStars() {
      stars.forEach((star, index) => {
        if (index < selectedRating) {
          star.classList.add('active');
        } else {
          star.classList.remove('active');
        }
      });
    }

    // Soumission du formulaire
    document.getElementById('reviewForm').addEventListener('submit', (e) => {
      e.preventDefault();
      
      const name = document.getElementById('name').value;
      const email = document.getElementById('email').value;
      const comment = document.getElementById('comment').value;
      const rating = ratingInput.value;

      if (!rating) {
        alert('Veuillez sÃ©lectionner une note');
        return;
      }

      // Afficher le message de succÃ¨s
      document.getElementById('successMessage').classList.add('show');
      
      // RÃ©initialiser le formulaire
      document.getElementById('reviewForm').reset();
      selectedRating = 0;
      updateStars();

      // Masquer le message aprÃ¨s 5 secondes
      setTimeout(() => {
        document.getElementById('successMessage').classList.remove('show');
      }, 5000);

      // Ici vous pouvez ajouter l'envoi au serveur
      console.log({ name, email, comment, rating });
    });

    // Animation des barres de progression au chargement
    window.addEventListener('load', () => {
      document.querySelectorAll('.rating-bar-fill').forEach(bar => {
        const width = bar.style.width;
        bar.style.width = '0%';
        setTimeout(() => {
          bar.style.width = width;
        }, 500);
      });
    });
  </script>

  </main>
  <footer class="footer">
    <div class="footer-content" id="section1">
      <h3>Conditions GÃ©nÃ©rales d'Utilisation</h3>
      <p>En accÃ©dant au site <strong>L'Air du vol</strong>, vous acceptez nos conditions gÃ©nÃ©rales d'utilisation. Toute reproduction ou diffusion du contenu est interdite sans autorisation.</p>
      <p>&copy; 2025 - L'Air du vol. Tous droits rÃ©servÃ©s.</p>
    </div>
  </footer>
  <!-- Bouton flottant -->
<button id="ai-chat-btn">â”</button>

<!-- FenÃªtre de chat -->
<div id="ai-chat-modal">
  <div class="ai-chat-header">
    <h3>Assistant IA</h3>
    <button id="close-ai-chat">&times;</button>
  </div>
  <div class="ai-chat-messages" id="ai-chat-messages"></div>
  <div class="typing-indicator" id="typing-indicator">
    <div class="typing-dots"><span></span><span></span><span></span></div>
  </div>
  <div class="ai-chat-input">
    <textarea id="ai-input" placeholder="Ã‰crivez votre message..."></textarea>
    <button id="ai-send-btn">Envoyer</button>
  </div>
</div>
  <script>    
  const aiBtn = document.getElementById("ai-chat-btn");
  const aiModal = document.getElementById("ai-chat-modal");
  const closeAiBtn = document.getElementById("close-ai-chat");
  const aiMessages = document.getElementById("ai-chat-messages");
  const aiInput = document.getElementById("ai-input");
  const sendBtn = document.getElementById("ai-send-btn");
  const typingIndicator = document.getElementById("typing-indicator");

  aiBtn.addEventListener("click", () => aiModal.classList.toggle("show"));
  closeAiBtn.addEventListener("click", () => aiModal.classList.remove("show"));

  function addMessage(text, fromUser = false) {
    const msg = document.createElement("div");
    msg.textContent = text;
    msg.className = `ai-message ${fromUser ? "user" : "ai"}`;
    aiMessages.appendChild(msg);
    aiMessages.scrollTop = aiMessages.scrollHeight;
  }

  async function sendMessageToAI(userText) {
    typingIndicator.classList.add("show");
    try {
      const res = await fetch("http://localhost:3000/chat", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ message: userText })
      });
      const data = await res.json();
      typingIndicator.classList.remove("show");
      addMessage(data.reply);
    } catch {
      typingIndicator.classList.remove("show");
      addMessage("âš ï¸ Erreur de connexion avec l'IA.");
    }
  }

  sendBtn.addEventListener("click", () => {
    const text = aiInput.value.trim();
    if (text) {
      addMessage(text, true);
      aiInput.value = "";
      sendMessageToAI(text);
    }
  });

  aiInput.addEventListener("keypress", e => {
    if (e.key === "Enter" && !e.shiftKey) {
      e.preventDefault();
      sendBtn.click();
    }
  });
</script>
<!-- Script pour le thÃ¨me et le menu -->
  <script>
    document.querySelectorAll('.rating').forEach(ratingDiv => {
  let selectedValue = 0;
  const stars = ratingDiv.querySelectorAll('span');

  stars.forEach(star => {
    star.addEventListener('mouseenter', () => {
      const val = parseInt(star.getAttribute('data-value'));
      stars.forEach(s => {
        if (parseInt(s.getAttribute('data-value')) <= val) {
          s.style.color = '#f5b301';
          s.style.transform = 'scale(1.2)';
        } else {
          s.style.color = '#ccc';
          s.style.transform = 'scale(1)';
        }
      });
    });

    star.addEventListener('mouseleave', () => {
      stars.forEach(s => {
        if (parseInt(s.getAttribute('data-value')) <= selectedValue) {
          s.style.color = '#f5b301';
          s.style.transform = 'scale(1)';
        } else {
          s.style.color = '#ccc';
          s.style.transform = 'scale(1)';
        }
      });
    });

    star.addEventListener('click', () => {
      selectedValue = parseInt(star.getAttribute('data-value'));
      stars.forEach(s => {
        if (parseInt(s.getAttribute('data-value')) <= selectedValue) {
          s.classList.add('selected');
          s.style.color = '#f5b301';
          s.style.transform = 'scale(1)';
        } else {
          s.classList.remove('selected');
          s.style.color = '#ccc';
          s.style.transform = 'scale(1)';
        }
      });
      // Ici tu peux ajouter un appel AJAX pour sauvegarder la note si besoin
      console.log('Note sÃ©lectionnÃ©e:', selectedValue);
    });
  });

  ratingDiv.addEventListener('mouseleave', () => {
    stars.forEach(s => {
      if (parseInt(s.getAttribute('data-value')) <= selectedValue) {
        s.style.color = '#f5b301';
        s.style.transform = 'scale(1)';
      } else {
        s.style.color = '#ccc';
        s.style.transform = 'scale(1)';
      }
    });
  });
});

    const toggleButton = document.getElementById('toggle-theme');
    const sidebarToggleBtn = document.getElementById('toggle-sidebar');
    const sidebar = document.querySelector('.sidebar');
    const body = document.body;

    if (localStorage.getItem('theme') === 'dark') {
      body.classList.add('dark');
      toggleButton.textContent = 'â˜€ï¸ Mode Clair';
    }

    toggleButton.addEventListener('click', () => {
      body.classList.toggle('dark');
      const isDark = body.classList.contains('dark');
      toggleButton.textContent = isDark ? 'â˜€ï¸ Mode Clair' : 'ğŸŒ™ Mode Sombre';
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });

    sidebarToggleBtn.addEventListener('click', () => {
      sidebar.classList.toggle('collapsed');
      body.classList.toggle('menu-collapsed');
    });
      const readMoreButtons = document.querySelectorAll('.read-more');
  const fullArticle = document.getElementById('full-article');
  const articleGrid = document.getElementById('article-grid');

  readMoreButtons.forEach(btn => {
    btn.addEventListener('click', function (e) {
      e.preventDefault();

      const title = this.dataset.title;
      const content = this.dataset.content;

      fullArticle.innerHTML = `
        <div class="card">
          <div class="card-content">
            <h2>${title}</h2>
            <p>${content}</p>
            <button id="close-article" class="btn">Fermer</button>
          </div>
        </div>
      `;

      fullArticle.style.display = 'block';
      articleGrid.classList.add('blur');
      document.getElementById('close-article').addEventListener('click', () => {
        fullArticle.style.display = 'none';
        fullArticle.innerHTML = '';
        articleGrid.classList.remove('blur');
      });
    });
  });
 </script>
</body>
</html>