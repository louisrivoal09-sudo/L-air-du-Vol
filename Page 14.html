<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>L'air du vol¬Æ/ Aviation civile/ Cr√©er un article</title>
  <link rel="stylesheet" href="Page 1.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="logo.png" type="image/png">
</head>
<body>

  <!-- Barre du haut -->
  <header class="topbar">
    <div class="logo-site">
      <button id="toggle-sidebar" class="sidebar-toggle">‚ò∞</button>
      <img src="logo.png" alt="Logo" class="logo-img">
      <span class="site-name">L'Air du vol¬Æ</span>
    </div>
    <button id="toggle-theme">üåô Mode Sombre</button>
  </header>

    <!-- Menu lat√©ral vertical -->
  <nav class="sidebar">
    <div class="search-box">
  <input type="text" id="articleSearch" placeholder="Rechercher des articles...">
</div>
    <ul class="menu">
      <li><a href="index.html">Accueil</a></li>
      <li class="has-submenu">
        <a href="#">Aviation civile</a>
        <ul class="sous-menu">
          <li><a href="Page 2.html">D√©couvrir nos articles</a></li>
          <li><a href="Page 5.html">Cr√©er un article</a></li>
        </ul>
      </li>
      <li class="has-submenu">
        <a href="#">Grands avions du monde</a>
        <ul class="sous-menu">
          <li><a href="Page 3.html">D√©couvrir nos articles</a></li>
          <li><a href="Page 6.html">Cr√©er un article</a></li>
        </ul>
      </li>
      <li class="has-submenu">
        <a href="#">Op√©rations militaires</a>
        <ul class="sous-menu">
          <li><a href="Page 4.html">D√©couvrir nos articles</a></li>
          <li><a href="Page 7.html">Cr√©er un article</a></li>
        </ul>
      </li>
     <li class="has-submenu">
        <a href="#">M√©dias</a>
        <ul class="sous-menu">
          <li><a href="Page 10.html">Vid√©os</a></li>
          <li><a href="Page 11.html">Podcasts</a></li>
          <li><a href="Page 12.html">Jeux</a></li>
        </ul>
      </li>
      <ul class="menu">
      <li><a href="Page 14.html">Liens</a></li>
      <li class="has-submenu">
        <a href="#">A propos</a>
        <ul class="sous-menu">
          <li><a href="Page.html">Nous contacter</a></li>
          <li><a href="#section1">Conditions g√©n√©rales d'utilisation</a></li>
        </ul>
      </li>
    </ul>
         <!-- Publicit√© sidebar -->
<div class="sidebar-ad">
  <p>PUBLICIT√â</p>
  <a href="https://www.picard.fr" target="_blank">
    <img src="https://www.picard.fr/on/demandware.static/-/Sites-picard-Library/default/dw53e8a5b3/brandcontent/1464x270px_BANNIERE_HEADER_SNACK_MOBILE.jpg" alt="Picard">
  </a>
</div>

<div class="sidebar-ad">
  <p>PUBLICIT√â</p>
  <a href="https://www.apple.com" target="_blank">
    <img src="https://www.vivelapub.fr/wp-content/uploads/miniatures/apple3.jpg" alt="Apple">
  </a>
</div>
  </nav>



  <main class="main-content"> 
   <!-- Section de recherche -->
    <div class="museum-search-section">
      <h1>üèõÔ∏è D√©couvrez les Mus√©es A√©ronautiques pr√®s de chez vous</h1>
      <p>Entrez le nom de votre ville pour trouver les meilleurs mus√©es, expositions et sites a√©ronautiques √† visiter</p>
      
      <div class="search-container">
        <input 
          type="text" 
          id="cityInput" 
          class="city-input" 
          placeholder="Entrez votre ville (ex: Paris, Lyon, Toulouse...)"
          autocomplete="off"
        >
        <button id="searchBtn" class="search-btn">Rechercher des mus√©es</button>
      </div>
    </div>

    <!-- Indicateur de chargement -->
    <div id="loading" class="loading">
      Recherche en cours...
    </div>
<!-- Carte Google Maps -->
<div id="mapContainer" style="margin-top: 2rem;">
  <h2>üìç Localisation du mus√©e</h2>
  <iframe 
    id="museumMap"
    width="100%"
    height="450"
    style="border:0; border-radius:12px; box-shadow:0 4px 20px rgba(0,0,0,0.1);"
    allowfullscreen=""
    loading="lazy"
    referrerpolicy="no-referrer-when-downgrade"
    src="https://www.google.com/maps?q=48.8566,2.3522&hl=fr&z=6&output=embed">
  </iframe>
</div>

    <!-- Conteneur des r√©sultats -->
    <div id="resultsContainer" class="results-container">
      <div class="results-header">
        <h2>Mus√©es trouv√©s</h2>
        <p class="results-count" id="resultsCount"></p>
      </div>
      <div id="museumGrid" class="museum-grid"></div>
    </div>

    <!-- Message aucun r√©sultat -->
    <div id="noResults" class="no-results" style="display: none;">
      <h3>Aucun mus√©e trouv√©</h3>
      <p>Essayez avec une autre ville ou une grande agglom√©ration proche de chez vous.</p>
    </div>
  </main>
  <footer class="footer">
    <div class="footer-content" id="section1">
      <h3>Conditions G√©n√©rales d'Utilisation</h3>
      <p>En acc√©dant au site <strong>L'Air du vol</strong>, vous acceptez nos conditions g√©n√©rales d'utilisation. Toute reproduction ou diffusion du contenu est interdite sans autorisation.</p>
      <p>&copy; 2025 - L'Air du vol. Tous droits r√©serv√©s.</p>
    </div>
  </footer>
  <!-- Bouton flottant -->
<button id="ai-chat-btn">‚ùî</button>

<!-- Fen√™tre de chat -->
<div id="ai-chat-modal">
  <div class="ai-chat-header">
    <h3>Assistant IA</h3>
    <button id="close-ai-chat">&times;</button>
  </div>
  <div class="ai-chat-messages" id="ai-chat-messages"></div>
  <div class="typing-indicator" id="typing-indicator">
    <div class="typing-dots"><span></span><span></span><span></span></div>
  </div>
  <div class="ai-chat-input">
    <textarea id="ai-input" placeholder="√âcrivez votre message..."></textarea>
    <button id="ai-send-btn">Envoyer</button>
  </div>
</div>

  <script>
    // Base de donn√©es des mus√©es a√©ronautiques en France
    const museumsDatabase = {
      'paris': [
        {
          name: "Mus√©e de l'Air et de l'Espace",
          address: "A√©roport de Paris-Le Bourget, 93352 Le Bourget",
          description: "Le plus grand mus√©e a√©ronautique de France avec plus de 400 a√©ronefs expos√©s. Collections exceptionnelles allant des d√©buts de l'aviation aux conqu√™tes spatiales.",
          highlights: "Concorde, Dakota, Boeing 747, Ariane 5",
          hours: "10h-18h (ferm√© le lundi)",
          price: "Gratuit pour les collections permanentes",
          website: "https://www.museeairespace.fr",
          image: "https://static.wixstatic.com/media/7ff35d_2451e20fd87a41398cd788c608db8b9e~mv2.jpg/v1/fill/w_1240,h_930,al_c,q_85/MUSEE%20AIR.jpg",   
          lat: 48.9494,
          lng: 2.4344
        }
      ],
      'toulouse': [
        {
          name: "Aeroscopia",
          address: "1 All√©e Andr√© Turcat, 31700 Blagnac",
          description: "Mus√©e de l'a√©ronautique situ√© √† proximit√© de l'usine Airbus. D√©couvrez les plus beaux avions de l'histoire a√©ronautique dont le Concorde et l'A380.",
          highlights: "A380, Concorde, Super Guppy, Caravelle",
          hours: "9h30-18h (tous les jours)",
          price: "12‚Ç¨ adulte, 9‚Ç¨ enfant",
          website: "https://www.aeroscopia.fr",
          image: "https://static.wixstatic.com/media/3ff0b6_3dfb4ad8e4724c2694e90f05abda0815~mv2.jpg/v1/fill/w_640,h_400,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/3ff0b6_3dfb4ad8e4724c2694e90f05abda0815~mv2.jpg",
          lat: 43.6352,
          lng: 1.3677
        }
      ],
      'lyon': [
        {
          name: "Mus√©e de l'Aviation de Lyon-Corbas",
          address: "A√©rodrome de Lyon-Corbas, 69960 Corbas",
          description: "Collection remarquable d'avions militaires et civils. Plus de 30 a√©ronefs expos√©s dans d'excellentes conditions de conservation.",
          highlights: "Mirage III, Myst√®re IV, Nord 2501",
          hours: "14h-18h (dimanche)",
          price: "6‚Ç¨ adulte, 3‚Ç¨ enfant",
          website: "http://www.musee-aviation-lyon.com",
          image: "https://www.pagesjaunes.fr/media/newdam/ac/35/5a/00/00/1e/e0/51/6d/c0/5f19ac355a00001ee0516dc0/5f19ac355a00001ee0516dc1.png",
          lat: 45.6897,
          lng: 4.9189
        }
      ],
      'marseille': [
        {
          name: "Ailes Anciennes Toulouse",
          address: "A√©rodrome de Francazal, 31270 Cugnaux",
          description: "Association d√©di√©e √† la pr√©servation et √† la restauration d'avions anciens. Visites guid√©es passionnantes.",
          highlights: "Collection d'avions de la Seconde Guerre mondiale",
          hours: "Sur rendez-vous",
          price: "Gratuit (dons accept√©s)",
          website: "http://www.aatlse.org",
          image: "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/04/82/cc/9c/ailes-anciennes-toulouse.jpg?w=900&h=-1&s=1",
          lat: 43.5469,
          lng: 1.3472
        }
      ],
      'strasbourg': [
        {
          name: "Mus√©e de l'A√©ronavale",
          address: "Base d'a√©ronautique navale, 56700 Lanv√©oc-Poulmic",
          description: "Unique mus√©e d√©di√© √† l'aviation navale fran√ßaise. Collections d'avions embarqu√©s et d'hydravions.",
          highlights: "√âtendard IV, Super Frelon, Crusader",
          hours: "10h-12h / 14h-18h",
          price: "8‚Ç¨ adulte, 5‚Ç¨ enfant",
          website: "http://www.aeronavale-musee.com",
          image: "https://www.rochefort-ocean.com/sites/rochefort-ocean-tourisme/files/styles/gallery_lightbox/public/content/images/rochefort-ocean-rochefort-musee-aeronautique-navale2.jpg?itok=RHJ2bLC2",
          lat: 48.2819,
          lng: -4.4542
        }
      ],
      'bordeaux': [
        {
          name: "Conservatoire de l'Air et de l'Espace d'Aquitaine",
          address: "A√©rodrome de Bordeaux-L√©ognan-Saucats, 33850 L√©ognan",
          description: "Collection unique de plus de 50 a√©ronefs. Association dynamique proposant des vols d√©couverte.",
          highlights: "Mirage F1, Nord 262, h√©licopt√®res",
          hours: "14h-18h (mercredi et dimanche)",
          price: "5‚Ç¨ adulte, 2‚Ç¨ enfant",
          website: "http://www.musee-avions-bordeaux.com",
          image: "https://www.marsaly.fr/fred/wp-content/uploads/2018/10/CAEA-vue-g%C3%A9n%C3%A9rale.jpg",
          lat: 44.7239,
          lng: -0.6014
        }
      ],
      'nantes': [
        {
          name: "Mus√©e de l'A√©ronautique Navale",
          address: "A√©rodrome de Rochefort-Charente-Maritime, 17300 Rochefort",
          description: "Riche collection d'avions de la Marine nationale. Site exceptionnel avec visites guid√©es.",
          highlights: "Aliz√©, Neptune, Catalina",
          hours: "10h-18h (avril √† octobre)",
          price: "9‚Ç¨ adulte, 6‚Ç¨ enfant",
          website: "http://www.museedelaeronautiquenavale.fr",
          image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTWAc6jJ3x_fofwIRP7Jq0X38xso1Ek3xU0nw&s",
          lat: 45.8881,
          lng: -0.9831
        }
      ],
      'lille': [
        {
          name: "Espace Air Passion",
          address: "A√©rodrome d'Angers-Marc√©, 49140 Marc√©",
          description: "L'un des plus beaux mus√©es de l'aviation en France. Plus de 60 avions sur 6000 m¬≤ d'exposition.",
          highlights: "Concorde, Lightning, DC-3",
          hours: "10h-18h (tous les jours)",
          price: "10‚Ç¨ adulte, 7‚Ç¨ enfant",
          website: "https://www.espace-air-passion.fr",
          image: "https://media.ouest-france.fr/v1/pictures/MjAyMjA4ZWFlOTRmZWM1ZjMwZjUxNWI3ODEwOWIxMTQ4MmFhZjA?width=1260&height=708&focuspoint=50%2C25&cropresize=1&client_id=bpeditorial&sign=83dcb8b33e02ce90611100ae63341370d7df58177e02555b47d8dd39e9fc9321",
          lat: 47.5625,
          lng: -0.3089
        }
      ],
      'nice': [
        {
          name: "Mus√©e de l'Aviation Cl√©ment Ader",
          address: "Base a√©rienne 118, 31130 Balma",
          description: "Collections exceptionnelles d'avions militaires fran√ßais. Nombreux exemplaires uniques.",
          highlights: "Mirage 2000, Jaguar, Alphajet",
          hours: "Sur rendez-vous pour groupes",
          price: "Gratuit",
          website: "http://www.musee-aviation-clement-ader.fr",
          image: "https://www.pagesjaunes.fr/media/newdam/ac/35/5a/00/00/1e/e0/51/6d/c0/5f19ac355a00001ee0516dc0/5f19ac355a00001ee0516dc1.png",
          lat: 43.6158,
          lng: 1.4989
        }
      ]
    };

    // √âl√©ments DOM
    const cityInput = document.getElementById('cityInput');
    const searchBtn = document.getElementById('searchBtn');
    const loading = document.getElementById('loading');
    const resultsContainer = document.getElementById('resultsContainer');
    const museumGrid = document.getElementById('museumGrid');
    const noResults = document.getElementById('noResults');
    const resultsCount = document.getElementById('resultsCount');

    // Fonction de recherche
    searchBtn.addEventListener('click', performSearch);
    cityInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') performSearch();
    });

    function performSearch() {
      const city = cityInput.value.trim().toLowerCase();
      
      if (!city) {
        alert('Veuillez entrer le nom d\'une ville');
        return;
      }

      // Afficher le chargement
      loading.classList.add('show');
      resultsContainer.classList.remove('show');
      noResults.style.display = 'none';
      museumGrid.innerHTML = '';

      // Simuler un d√©lai de recherche
      setTimeout(() => {
        loading.classList.remove('show');
        
        // Recherche dans la base de donn√©es
        const results = findMuseums(city);
        
        if (results.length > 0) {
          displayResults(results, city);
        } else {
          noResults.style.display = 'block';
        }
      }, 1500);
    }

    function findMuseums(city) {
      // Recherche exacte
      if (museumsDatabase[city]) {
        return museumsDatabase[city];
      }

      // Recherche approximative
      for (let key in museumsDatabase) {
        if (key.includes(city) || city.includes(key)) {
          return museumsDatabase[key];
        }
      }

      return [];
    }

    function displayResults(museums, city) {
      resultsCount.textContent = `${museums.length} mus√©e${museums.length > 1 ? 's' : ''} trouv√©${museums.length > 1 ? 's' : ''} pr√®s de ${capitalizeFirstLetter(city)}`;
      
      museums.forEach(museum => {
        const card = createMuseumCard(museum);
        museumGrid.appendChild(card);
      });

      resultsContainer.classList.add('show');
    }

    function createMuseumCard(museum) {
      const card = document.createElement('div');
      card.className = 'museum-card';
      
      card.innerHTML = `
        <img src="${museum.image}" alt="${museum.name}" class="museum-image" onerror="this.src='https://via.placeholder.com/400x250/0A2463/FFFFFF?text=${encodeURIComponent(museum.name)}'">
        <div class="museum-content">
          <span class="museum-badge">Mus√©e A√©ronautique</span>
          <h3 class="museum-title">${museum.name}</h3>
          <p class="museum-description">${museum.description}</p>
          
          <div class="museum-info">
            <div class="museum-info-item">
              <strong>üìç Adresse:</strong>
              <span>${museum.address}</span>
            </div>
            <div class="museum-info-item">
              <strong>‚≠ê √Ä voir:</strong>
              <span>${museum.highlights}</span>
            </div>
            <div class="museum-info-item">
              <strong>üïê Horaires:</strong>
              <span>${museum.hours}</span>
            </div>
            <div class="museum-info-item">
              <strong>üí∞ Tarifs:</strong>
              <span>${museum.price}</span>
            </div>
          </div>

          <div class="museum-actions">
            <button class="map-btn" onclick="openMap(${museum.lat}, ${museum.lng}, '${museum.name}')">
              üìç Voir sur la carte
            </button>
            <button class="info-btn" onclick="window.open('${museum.website}', '_blank')">
              ‚ÑπÔ∏è Site web
            </button>
          </div>
        </div>
      `;
      
      return card;
    }
function displayResults(museums, city) {
  resultsCount.textContent = `${museums.length} mus√©e${museums.length > 1 ? 's' : ''} trouv√©${museums.length > 1 ? 's' : ''} pr√®s de ${capitalizeFirstLetter(city)}`;
  
  museumGrid.innerHTML = ''; // efface les anciens r√©sultats

  museums.forEach(museum => {
    const card = createMuseumCard(museum);
    museumGrid.appendChild(card);
  });

function displayResults(museums, city) {
  resultsCount.textContent = `${museums.length} mus√©e${museums.length > 1 ? 's' : ''} trouv√©${museums.length > 1 ? 's' : ''} pr√®s de ${capitalizeFirstLetter(city)}`;
  
  museumGrid.innerHTML = ''; // Efface les anciens r√©sultats

  museums.forEach(museum => {
    const card = createMuseumCard(museum);
    museumGrid.appendChild(card);
  });

  // Affiche le premier mus√©e sur la carte automatiquement
  if (museums.length > 0) {
    updateMap(museums[0].lat, museums[0].lng, museums[0].name);
  }

  resultsContainer.classList.add('show');
}

  resultsContainer.classList.add('show');
}
function openMap(lat, lng, name) {
  updateMap(lat, lng, name);
  document.getElementById('mapContainer').scrollIntoView({ behavior: 'smooth' });
}

function updateMap(lat, lng, name) {
  const mapIframe = document.getElementById('museumMap');
  mapIframe.src = `https://www.google.com/maps?q=${lat},${lng}&hl=fr&z=14&output=embed`;
}
    function capitalizeFirstLetter(string) {
      return string.charAt(0).toUpperCase() + string.slice(1);
    }
    
  const aiBtn = document.getElementById("ai-chat-btn");
  const aiModal = document.getElementById("ai-chat-modal");
  const closeAiBtn = document.getElementById("close-ai-chat");
  const aiMessages = document.getElementById("ai-chat-messages");
  const aiInput = document.getElementById("ai-input");
  const sendBtn = document.getElementById("ai-send-btn");
  const typingIndicator = document.getElementById("typing-indicator");

  aiBtn.addEventListener("click", () => aiModal.classList.toggle("show"));
  closeAiBtn.addEventListener("click", () => aiModal.classList.remove("show"));

  function addMessage(text, fromUser = false) {
    const msg = document.createElement("div");
    msg.textContent = text;
    msg.className = `ai-message ${fromUser ? "user" : "ai"}`;
    aiMessages.appendChild(msg);
    aiMessages.scrollTop = aiMessages.scrollHeight;
  }

  async function sendMessageToAI(userText) {
    typingIndicator.classList.add("show");
    try {
      const res = await fetch("http://localhost:3000/chat", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ message: userText })
      });
      const data = await res.json();
      typingIndicator.classList.remove("show");
      addMessage(data.reply);
    } catch {
      typingIndicator.classList.remove("show");
      addMessage("‚ö†Ô∏è Erreur de connexion avec l'IA.");
    }
  }

  sendBtn.addEventListener("click", () => {
    const text = aiInput.value.trim();
    if (text) {
      addMessage(text, true);
      aiInput.value = "";
      sendMessageToAI(text);
    }
  });

  aiInput.addEventListener("keypress", e => {
    if (e.key === "Enter" && !e.shiftKey) {
      e.preventDefault();
      sendBtn.click();
    }
  });
</script>
<!-- Script pour le th√®me et le menu -->
  <script>
    document.querySelectorAll('.rating').forEach(ratingDiv => {
  let selectedValue = 0;
  const stars = ratingDiv.querySelectorAll('span');

  stars.forEach(star => {
    star.addEventListener('mouseenter', () => {
      const val = parseInt(star.getAttribute('data-value'));
      stars.forEach(s => {
        if (parseInt(s.getAttribute('data-value')) <= val) {
          s.style.color = '#f5b301';
          s.style.transform = 'scale(1.2)';
        } else {
          s.style.color = '#ccc';
          s.style.transform = 'scale(1)';
        }
      });
    });

    star.addEventListener('mouseleave', () => {
      stars.forEach(s => {
        if (parseInt(s.getAttribute('data-value')) <= selectedValue) {
          s.style.color = '#f5b301';
          s.style.transform = 'scale(1)';
        } else {
          s.style.color = '#ccc';
          s.style.transform = 'scale(1)';
        }
      });
    });

    star.addEventListener('click', () => {
      selectedValue = parseInt(star.getAttribute('data-value'));
      stars.forEach(s => {
        if (parseInt(s.getAttribute('data-value')) <= selectedValue) {
          s.classList.add('selected');
          s.style.color = '#f5b301';
          s.style.transform = 'scale(1)';
        } else {
          s.classList.remove('selected');
          s.style.color = '#ccc';
          s.style.transform = 'scale(1)';
        }
      });
      // Ici tu peux ajouter un appel AJAX pour sauvegarder la note si besoin
      console.log('Note s√©lectionn√©e:', selectedValue);
    });
  });

  ratingDiv.addEventListener('mouseleave', () => {
    stars.forEach(s => {
      if (parseInt(s.getAttribute('data-value')) <= selectedValue) {
        s.style.color = '#f5b301';
        s.style.transform = 'scale(1)';
      } else {
        s.style.color = '#ccc';
        s.style.transform = 'scale(1)';
      }
    });
  });
});

    const toggleButton = document.getElementById('toggle-theme');
    const sidebarToggleBtn = document.getElementById('toggle-sidebar');
    const sidebar = document.querySelector('.sidebar');
    const body = document.body;

    if (localStorage.getItem('theme') === 'dark') {
      body.classList.add('dark');
      toggleButton.textContent = '‚òÄÔ∏è Mode Clair';
    }

    toggleButton.addEventListener('click', () => {
      body.classList.toggle('dark');
      const isDark = body.classList.contains('dark');
      toggleButton.textContent = isDark ? '‚òÄÔ∏è Mode Clair' : 'üåô Mode Sombre';
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });

    sidebarToggleBtn.addEventListener('click', () => {
      sidebar.classList.toggle('collapsed');
      body.classList.toggle('menu-collapsed');
    });
      const readMoreButtons = document.querySelectorAll('.read-more');
  const fullArticle = document.getElementById('full-article');
  const articleGrid = document.getElementById('article-grid');

  readMoreButtons.forEach(btn => {
    btn.addEventListener('click', function (e) {
      e.preventDefault();

      const title = this.dataset.title;
      const content = this.dataset.content;

      fullArticle.innerHTML = `
        <div class="card">
          <div class="card-content">
            <h2>${title}</h2>
            <p>${content}</p>
            <button id="close-article" class="btn">Fermer</button>
          </div>
        </div>
      `;

      fullArticle.style.display = 'block';
      articleGrid.classList.add('blur');
      document.getElementById('close-article').addEventListener('click', () => {
        fullArticle.style.display = 'none';
        fullArticle.innerHTML = '';
        articleGrid.classList.remove('blur');
      });
    });
  });
 </script>
</body>
</html>